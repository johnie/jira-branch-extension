!function(){var e;e={IS_DEV:!1,API_URL:"https://jira.mrgreen.zone/"};var t={};function n(e){var t="àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;",n=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(n,(function(e){return"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}var r=function(e,t){return"".concat(e,"-").concat(n(t))};t={slugify:n,getIssueFromUrl:function(e){return e.substring(e.lastIndexOf("/")+1)},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},setBranchName:r,setFullBranchName:function(e){var t=e.type,n=e.issue,o=e.title;return"".concat(t).concat(r(n,o))}};var o,a;function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a={getIssueKey:function(){return new Promise((function(n,r){chrome.tabs&&chrome.tabs.query?chrome.tabs.query({active:!0},(function(e){var r=c(e,1)[0],o=t.getIssueFromUrl(r.url);n(o)})):e.IS_DEV?n("PRGG-888"):r(!1)}))}};o={fetchIssueData:function(){return new Promise((function(t,n){a.getIssueKey().then((function(r){fetch("".concat(e.API_URL,"rest/api/latest/issue/").concat(r,"?fields=summary")).then((function(e){return t(e)})).catch((function(e){return n("fetch",e)}))})).catch((function(e){return n("chrome",e)}))}))}};var i=["Feature","Bugfix","Hotfix","Release","None"].map((function(e){var t=e.toLowerCase();return{name:e,value:"none"!==t?"".concat(t,"/"):""}})),s=i.map((function(e){return n=(t=e).name,r=t.value,'\n<option value="'.concat(r,'">').concat(n,"</option>\n");var t,n,r})).join("");document.addEventListener("DOMContentLoaded",(function(){var e,n,r=document.querySelector("#branchType"),a=document.querySelector("#issueTitle"),c=document.querySelector("#copy"),u=document.querySelector("#preview");r.innerHTML=s,o.fetchIssueData().then((function(e){return e.json()})).then((function(o){var i=function(e){return{issue:e.key,title:e.fields.summary}}(o),s=t.slugify(i.title),l=i.issue;n=l;var f="".concat(l,"-").concat(s);e=f,a.value=f;var m="".concat(r.value).concat(f);u.innerHTML=m,c.addEventListener("click",(function(){t.copyToClipboard(m)}))}));document.querySelector("form");r.addEventListener("change",(function(r){u.innerHTML=t.setFullBranchName({type:r.target.value,issue:n,title:e})}))}))}();
//# sourceMappingURL=app.2e803be3.js.map
